(()=>{"use strict";function t(t){let e=Math.floor(document.documentElement.clientHeight);return function(t,{ms:e}){let o;return function(...s){clearTimeout(o),o=setTimeout((()=>t(s)),e)}}((()=>{const o=Math.floor(document.documentElement.clientHeight);Math.abs(e-o),e=o,t()}),{ms:100})}function e(){const t=document.documentElement.clientHeight/100;document.body.style.setProperty("--vh",`${t}px`),document.body.style.setProperty("--100vh",100*t+"px")}function o(t,e="300ms ease-in 0ms"){t.style.opacity=0,t.offsetHeight,t.style.transition=`opacity ${e}`,t.style.opacity=1}function s(t,e){t.style.transition=`opacity ${e}`,t.style.opacity=0}function i(t,{onAppear:e,onDisappear:o,options:s}){if(t.length||(t=[t]),![...t].every((t=>t instanceof HTMLElement)))return console.log("No elements to observe");const i=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?e(t.target):o(t.target)}))}),s);return t.forEach((t=>i.observe(t))),i}e(),window.onresize=t(e),(()=>{const t=document.querySelector(".js-fade-s1");if(!t)return;const e=t.querySelector(".s1__title"),n=t.querySelector(".s1__dot"),r=t.querySelector(".s1__text");i(t,{onAppear:t=>{e&&o(e,"200ms 0ms ease-in"),n&&o(n,"200ms 0ms ease-in"),r&&o(r,"500ms 0ms ease-in"),[e,n,r].forEach((t=>{t instanceof HTMLElement&&t.classList.remove("inaccessible")}))},onDisappear:t=>{e&&s(e,"200ms 0ms ease-in"),n&&s(n,"200ms 0ms ease-in"),r&&s(r,"700ms 200ms ease-in"),[e,n,r].forEach((t=>{t.classList.add("inaccessible")}))},options:{threshold:1}})})(),i([...document.querySelectorAll("[blur-transition]")],{onAppear:t=>{t.classList.add("un-blur")},onDisappear:t=>{t.classList.remove("un-blur")},options:{threshold:.3}});let n;function r(t){t.style.display="block",o(t,"300ms 10ms ease")}function a(t){s(t,"500ms 10ms ease-in"),n&&clearTimeout(n),n=setTimeout((()=>{t.style.display="none"}),500)}const l=[...document.querySelectorAll("video")],c=l.filter((t=>{var e,o;return(e=t).muted=!0,e.setAttribute("muted",!0),e.setAttribute("playsinline",!0),e.setAttribute("autoplay",!0),e.setAttribute("loop",!0),e.play(),!!t.matches("[custom-controls]")&&((o=t).insertAdjacentHTML("afterend",'\n  <button class="video-control play-button parallax-button">\n    <svg\n      class="svg-play"\n      viewBox="0 0 244 303"\n      fill="none"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        d="M1.24529 301.418V1.72695L242.198 151.573L1.24529 301.418Z"\n        stroke="#3BFB2A"\n      />\n    </svg>\n  </button>\n'),o.insertAdjacentHTML("afterend",'\n  <button class="video-control stop-button"></button>\n'),t)}));function u(t){t.muted=!0}document.addEventListener("click",(({target:t})=>{const e=t.closest(".play-button"),o=t.closest(".stop-button"),s=t.closest("div")?.querySelector("video");if(s)return e?(function(t){t.muted=!1,t.currentTime=0,t.play()}(s),a(e),void function(t){const e=window.innerHeight,o=t.getBoundingClientRect(),s=o.height,i=o.top+window.scrollY-e/2+s/2;window.scrollTo({top:i,behavior:"smooth"})}(s)):o?(u(s),void a(o)):void 0})),c.forEach((t=>{const e=t.closest("div");let o;e.addEventListener("mousemove",(({clientX:s,clientY:i,currentTarget:n})=>{const l=t.closest("div").querySelector(".play-button"),c=t.closest("div").querySelector(".stop-button");if(t&&c){if(l&&"none"!==l.style.display){const{x:t,y:o}={x:s-n.getBoundingClientRect().left,y:i-n.getBoundingClientRect().top};((t,e,{x:o,y:s})=>{t&&e&&(({x:o,y:s})=>{const{elemX:i,elemY:n}=(({x:t,y:o})=>{const s=e.offsetWidth/2,i=o-e.offsetHeight/2;return{elemX:(.05*(t-s)).toFixed(1),elemY:(.05*i).toFixed(1)}})({x:o,y:s});t.style.setProperty("--x",`${i}px`),t.style.setProperty("--y",`${n}px`)})({x:o,y:s})})(l,e,{x:t,y:o})}t.muted||t.paused||(o&&clearTimeout(o),r(c),o=setTimeout((()=>{console.log(o),a(c)}),2e3))}})),e.addEventListener("mouseenter",(()=>{const e=t.closest("div").querySelector(".play-button");t&&e&&t.muted&&(console.log("mouse enter"),r(e))})),e.addEventListener("mouseleave",(()=>{const e=t.closest("div").querySelector(".play-button"),o=t.closest("div").querySelector(".stop-button");console.log("mouse leave"),a(e),a(o)}))})),i(l,{onAppear:t=>{t.play()},onDisappear:t=>{const e=t.closest("div")?.querySelector(".play-button"),o=t.closest("div")?.querySelector(".stop-button");t.pause(),u(t),t&&e&&o&&(r(e),a(o))},options:{threshold:.3}});class p{constructor(t,{cssGap:e}){this.groupsContainer=document.createElement("div"),this.initialGroup=null,this.root=t,this.originChildren=this.saveOriginChildren(),this.root.classList.add("tape-screen"),this.groupsContainer.style.setProperty("--gap",e)}saveOriginChildren(){return[...this.root.children].map((t=>t.cloneNode(!0)))}init(){this.initialGroup=this.#t(),this.groupsContainer.className="positioned-tape",this.groupsContainer.dataset.x=0,this.groupsContainer.innerHTML="",this.groupsContainer.append(this.initialGroup),this.root.append(this.groupsContainer)}#t(){const t=this.originChildren,e=document.createElement("div");return e.className="group",this.root.innerHTML="",this.root.append(e),e.append(...t),e}fitScreen(){const t=this.root.offsetWidth,e=this.groupsContainer.lastElementChild,o=this.groupsContainer.children.length;if(t-e.offsetWidth*o>0){const t=e.cloneNode(!0);this.groupsContainer.append(t),this.fitScreen()}else this.#e()}#e(){const t=document.createElement("div");t.className="super-group";const e=this.groupsContainer.children;t.append(...e);for(let e=1;e<=3;e++)this.groupsContainer.append(t.cloneNode(!0))}}class h{#o=1;#s=!0;#i=0;constructor({container:t,stepSize:e=1.35}){this.#o=e,this.direction="left",this.groupsContainer=t}get positionX(){return this.#i}set positionX(t){this.#i=t,this.groupsContainer.style.setProperty("--x",`${t.toFixed(2)}px`)}#n(){this.positionX-=this.#o}#r(){this.positionX+=this.#o}#a(){this.#s||("left"===this.direction?this.#n():this.#r(),requestAnimationFrame(this.#a.bind(this)))}start(){this.#s&&(this.#s=!1,this.#a())}stop(){return this.#s=!0,this}toggleDirection(){const t=this.direction;return this.direction="left"===t?"right":"left",this}}class d{constructor(t,e){this.observer=new IntersectionObserver(t,e)}observe(t){this.observer.observe(t)}unobserve(t){this.observer.unobserve(t)}}const m=document.querySelector(".text-tape");let g;m&&(g=new class{#l;#c;#u;#p;#h;constructor({rootElem:e,cssGap:o=0,speed:s=1.3}){this.isValidRoot=e instanceof HTMLElement,this.isValidRoot&&(o=Number.parseFloat(o),this.#l=e,this.#c=new p(this.#l,{cssGap:o}),this.#c.init(),this.#c.fitScreen(),this.#u=new h({container:this.#c.groupsContainer,stepSize:s}),this.#p=new d(this.#d.bind(this),{root:this.#l,threshold:0}),this.#m(),this.#h={cssGap:o},window.addEventListener("resize",t(this.handleResize.bind(this))))}handleResize(){this.#g(),this.#u.stop(),this.#c.init(),this.#c.fitScreen(),this.#m(),setTimeout((()=>{this.#u.start()}),500)}start(){this.isValidRoot&&this.#u.start()}stop(){this.isValidRoot&&this.#u.stop()}toggleDirection(){this.isValidRoot&&this.#u.toggleDirection()}#d(t,e){t.forEach((t=>{if(!1===t.isIntersecting){const e=t.boundingClientRect.width;"left"===this.#u.direction&&(this.#u.positionX=-1*e),"right"===this.#u.direction&&(this.#u.positionX=this.#u.positionX-(e+this.#h.cssGap))}}))}#m(){const t=this.#c.groupsContainer.children[1];this.#p.observe(t)}#g(){const t=this.#c.groupsContainer.children[1];this.#p.unobserve(t)}}({rootElem:m,cssGap:"0",speed:.7}),g.start()),console.log("case page")})();