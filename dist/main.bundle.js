(()=>{"use strict";function t({bodyClass:t}={bodyClass:"is-mobile"}){!function(){const t=navigator.userAgent||navigator.vendor||window.opera,e=/Mobi|Android/i.test(t),o="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,s=window.innerWidth<=800&&window.innerHeight<=600;return e||o||s}()?document.body.classList.remove("is-mobile"):document.body.classList.add("is-mobile")}function e(){return document.body.matches(".is-mobile")}function o(t){let e=Math.floor(document.documentElement.clientHeight);return function(t,{ms:e}){let o;return function(...s){clearTimeout(o),o=setTimeout((()=>t(s)),e)}}((()=>{const o=Math.floor(document.documentElement.clientHeight);Math.abs(e-o),e=o,t()}),{ms:100})}function s(){const t=document.documentElement.clientHeight/100;document.body.style.setProperty("--vh",`${t}px`),document.body.style.setProperty("--100vh",100*t+"px")}function n(t,{onAppear:e,onDisappear:o,options:s}){if(t.length||(t=[t]),![...t].every((t=>t instanceof HTMLElement)))return console.log("No elements to observe");const n=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?e(t.target):o(t.target)}))}),s);return t.forEach((t=>n.observe(t))),n}function i(t,e="300ms ease-in 0ms"){t.classList.add("fadeOut"),t.classList.remove("fadeIn"),t.offsetHeight,t.style.transition=`opacity ${e}`,t.classList.remove("fadeOut"),t.classList.add("fadeIn")}function r(t,e){t.style.transition=`opacity ${e}`,t.classList.remove("fadeIn"),t.classList.add("fadeOut")}let a;function c(t){t.style.display="block",i(t,"300ms 10ms ease")}function l(t){r(t,"500ms 10ms ease-in"),a&&clearTimeout(a),a=setTimeout((()=>{t.style.display="none"}),500)}function u(t){return{playBtn:t.closest("div").querySelector(".play-button"),stopBtn:t.closest("div").querySelector(".stop-button")}}function d(t){const{playBtn:o,stopBtn:s}=u(t);!function(t){t.muted=!1,t.currentTime=0,t.play()}(t),l(o),function(t){const e=window.innerHeight,o=t.getBoundingClientRect(),s=o.height,n=o.top+window.scrollY-e/2+s/2;window.scrollTo({top:n,behavior:"smooth"})}(t),e()&&(c(s),setTimeout((()=>{l(s)}),2e3))}function p(t){const{stopBtn:e}=u(t);g(t),l(e)}t(),window.addEventListener("resize",t),s(),window.onresize=o(s),n([...document.querySelectorAll("[zoom-out]")],{onAppear:t=>{!function(t){t.classList.add("animate-zoom-out")}(t)},onDisappear:t=>{!function(t){t.classList.remove("animate-zoom-out")}(t)},options:{threshold:.2}}),(()=>{const t=document.querySelector(".js-fade-s1");if(!t)return;const e=t.querySelector(".s1__title"),o=t.querySelector(".s1__dot"),s=t.querySelector(".s1__text");n(t,{onAppear:t=>{e&&i(e,"200ms 0ms ease-in"),o&&i(o,"200ms 0ms ease-in"),s&&i(s,"300ms 0ms ease-in"),[e,o,s].forEach((t=>{t instanceof HTMLElement&&t.classList.remove("inaccessible")}))},onDisappear:t=>{e&&r(e,"200ms 0ms ease-in"),o&&r(o,"200ms 0ms ease-in"),s&&r(s,"300ms 200ms ease-in"),[e,o,s].forEach((t=>{t.classList.add("inaccessible")}))},options:{threshold:1}})})(),n([...document.querySelectorAll("[blur-out]")],{onAppear:t=>{t.classList.add("un-blur")},onDisappear:t=>{t.classList.remove("un-blur")},options:{threshold:.3}});const h=[...document.querySelectorAll("video")],m=h.filter((t=>{var e,o;return(e=t).muted=!0,e.setAttribute("muted",!0),e.setAttribute("playsinline",!0),e.setAttribute("autoplay",!0),e.setAttribute("loop",!0),e.play(),!!t.matches("[custom-controls]")&&((o=t).insertAdjacentHTML("afterend",'\n  <button class="video-control play-button parallax-button">\n    <svg\n      class="svg-play"\n      viewBox="0 0 244 303"\n      fill="none"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        d="M1.24529 301.418V1.72695L242.198 151.573L1.24529 301.418Z"\n        stroke="#3BFB2A"\n      />\n    </svg>\n  </button>\n'),o.insertAdjacentHTML("afterend",'\n  <button class="video-control stop-button"></button>\n'),t)}));function g(t){t.muted=!0}document.addEventListener("click",(({target:t})=>{const o=t.closest(".play-button"),s=t.closest(".stop-button"),n=t.closest("video");if(!o&&!s&&!n)return;const i=t.closest("div")?.querySelector("video"),{playBtn:r,stopBtn:a}=u(i);if(i.matches("[custom-controls]"))if(o)d(i);else if(s)p(i);else if(n&&e()){if("block"==r.style.display)return void d(i);p(i),c(r)}})),m.forEach((t=>{const o=t.closest("div");let s;o.addEventListener("mousemove",(({clientX:n,clientY:i,currentTarget:r})=>{if(e())return;const a=t.closest("div").querySelector(".play-button"),u=t.closest("div").querySelector(".stop-button");if(t&&u){if(a&&"none"!==a.style.display){const{x:t,y:e}={x:n-r.getBoundingClientRect().left,y:i-r.getBoundingClientRect().top};((t,e,{x:o,y:s})=>{t&&e&&(({x:o,y:s})=>{const{elemX:n,elemY:i}=(({x:t,y:o})=>{const s=e.offsetWidth/2,n=o-e.offsetHeight/2;return{elemX:(.05*(t-s)).toFixed(1),elemY:(.05*n).toFixed(1)}})({x:o,y:s});t.style.setProperty("--x",`${n}px`),t.style.setProperty("--y",`${i}px`)})({x:o,y:s})})(a,o,{x:t,y:e})}t.muted||t.paused||(s&&clearTimeout(s),c(u),s=setTimeout((()=>{console.log(s),l(u)}),2e3))}})),o.addEventListener("mouseenter",(()=>{if(e())return;const o=t.closest("div").querySelector(".play-button");t&&o&&t.muted&&(console.log("mouse enter"),c(o))})),o.addEventListener("mouseleave",(()=>{if(e())return;const o=t.closest("div").querySelector(".play-button"),s=t.closest("div").querySelector(".stop-button");console.log("mouse leave"),l(o),l(s)}))})),n(h,{onAppear:t=>{t.play()},onDisappear:t=>{const e=t.closest("div")?.querySelector(".play-button"),o=t.closest("div")?.querySelector(".stop-button");t.pause(),g(t),t&&e&&o&&(c(e),l(o))},options:{threshold:.3}}),m.forEach((t=>{const{playBtn:o,stopBtn:s}=u(t);e()&&c(o)}));class f{constructor(t,{cssGap:e}){this.groupsContainer=document.createElement("div"),this.initialGroup=null,this.root=t,this.originChildren=this.saveOriginChildren(),this.root.classList.add("tape-screen"),this.groupsContainer.style.setProperty("--gap",e)}saveOriginChildren(){return[...this.root.children].map((t=>t.cloneNode(!0)))}init(){this.initialGroup=this.#t(),this.groupsContainer.className="positioned-tape",this.groupsContainer.dataset.x=0,this.groupsContainer.innerHTML="",this.groupsContainer.append(this.initialGroup),this.root.append(this.groupsContainer)}#t(){const t=this.originChildren,e=document.createElement("div");return e.className="group",this.root.innerHTML="",this.root.append(e),e.append(...t),e}fitScreen(){const t=this.root.offsetWidth,e=this.groupsContainer.lastElementChild,o=this.groupsContainer.children.length;if(t-e.offsetWidth*o>0){const t=e.cloneNode(!0);this.groupsContainer.append(t),this.fitScreen()}else this.#e()}#e(){const t=document.createElement("div");t.className="super-group";const e=this.groupsContainer.children;t.append(...e);for(let e=1;e<=3;e++)this.groupsContainer.append(t.cloneNode(!0))}}class v{#o=1;#s=!0;#n=0;constructor({container:t,stepSize:e=1.35}){this.#o=e,this.direction="left",this.groupsContainer=t}get positionX(){return this.#n}set positionX(t){this.#n=t,this.groupsContainer.style.setProperty("--x",`${t.toFixed(2)}px`)}#i(){this.positionX-=this.#o}#r(){this.positionX+=this.#o}#a(){this.#s||("left"===this.direction?this.#i():this.#r(),requestAnimationFrame(this.#a.bind(this)))}start(){this.#s&&(this.#s=!1,this.#a())}stop(){return this.#s=!0,this}toggleDirection(){const t=this.direction;return this.direction="left"===t?"right":"left",this}}class y{constructor(t,e){this.observer=new IntersectionObserver(t,e)}observe(t){this.observer.observe(t)}unobserve(t){this.observer.unobserve(t)}}const b=document.querySelector(".text-tape");let w;b&&(w=new class{#c;#l;#u;#d;#p;constructor({rootElem:t,cssGap:e=0,speed:s=1.3}){this.isValidRoot=t instanceof HTMLElement,this.isValidRoot&&(e=Number.parseFloat(e),this.#c=t,this.#l=new f(this.#c,{cssGap:e}),this.#l.init(),this.#l.fitScreen(),this.#u=new v({container:this.#l.groupsContainer,stepSize:s}),this.#d=new y(this.#h.bind(this),{root:this.#c,threshold:0}),this.#m(),this.#p={cssGap:e},window.addEventListener("resize",o(this.handleResize.bind(this))))}handleResize(){this.#g(),this.#u.stop(),this.#l.init(),this.#l.fitScreen(),this.#m(),setTimeout((()=>{this.#u.start()}),500)}start(){this.isValidRoot&&this.#u.start()}stop(){this.isValidRoot&&this.#u.stop()}toggleDirection(){this.isValidRoot&&this.#u.toggleDirection()}#h(t,e){t.forEach((t=>{if(!1===t.isIntersecting){const e=t.boundingClientRect.width;"left"===this.#u.direction&&(this.#u.positionX=-1*e),"right"===this.#u.direction&&(this.#u.positionX=this.#u.positionX-(e+this.#p.cssGap))}}))}#m(){const t=this.#l.groupsContainer.children[1];this.#d.observe(t)}#g(){const t=this.#l.groupsContainer.children[1];this.#d.unobserve(t)}}({rootElem:b,cssGap:"0",speed:.7}),w.start()),console.log("case page")})();